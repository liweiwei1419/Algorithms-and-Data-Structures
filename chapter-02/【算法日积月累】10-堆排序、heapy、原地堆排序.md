



这一节我们要介绍的是一种直接使用堆排序的 `sink` 方法完成排序任务的方法，这种方法不使用额外的数组空间，严格一点说，不使用与原数组大小相等的数组空间，最多只使用 $O(1)$ 的空间复杂度，用于一个临时表变量的存储。

为了简化这个问题，我们把“原地堆排序”拆解为以下 3 个部分：

1、首先，转换思维，堆从索引 $0$ 开始编号；

代码很多地方都要改，但都不困难，正好可以帮助我们复习堆的 `sink` 操作，如果只是用于排序任务，不需要 `swim` 操作；

2、 `sink` 操作要设计成如下的样子，设计一个表示 end 的变量，表示待排序数组的 `[0,end]`（注意是闭区间）范围是堆有序的。

## 什么是 heapy？

使得一个数组是堆有序的操作就叫做“heapy”。

具体的做法是：从最后一个非叶子结点开始到索引为 0 的位置，逐个 `sink`。